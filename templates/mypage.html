<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>마이페이지 | EWHA MARKET</title>

    <!-- Google Fonts & Icons -->
    <link href="https://fonts.googleapis.com/css2?family=Doto:wght@400&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

    <!-- 공통 CSS -->
    <link rel="stylesheet" href="../static/css/style.css" />

    <style>
        /* 마이페이지 전용 스타일 */
        .mypage-container {
            display: flex;
            padding: 60px 100px;
            gap: 60px;
            flex: 1;
            background-color: #fff;
        }

        .sidebar {
            width: 180px;
        }

        .sidebar ul {
            list-style: none;
            padding-left: 0;
        }

        .sidebar li {
            padding: 10px 0;
            font-size: 16px;
            cursor: pointer;
            transition: 0.2s;
        }

        .sidebar li:hover,
        .sidebar li.active {
            color: #2e6b56;
            font-weight: 600;
        }

        .sidebar li.disabled {
            color: #333;
            cursor: pointer;
        }

        .content-area {
            flex: 1;
            padding-top: 10px;
        }

        /* 내 리뷰 스타일 */
        .review-container {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-left: 40px;
        }

        .review-container h2 {
            font-size: 22px;
            margin-bottom: 20px;
        }

        .item-card {
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            max-width: 600px;
            background-color: #fafafa;
            margin-left: 60px;
            margin-bottom: 25px;
        }

        .item-card p {
            margin: 6px 0;
        }

        .item-card small {
            color: #777;
            font-size: 13px;
        }

        .review-content {
            display: flex;
            align-items: flex-start;
            gap: 20px;
        }

        .review-img {
            width: 100px;
            height: 100px;
            object-fit: cover;
            border-radius: 8px;
            border: 1px solid #ccc;
            background-color: #fff;
        }

        .review-text p {
            margin: 4px 0;
            line-height: 1.4;
        }

        .review-text small {
            color: #777;
            font-size: 13px;
        }

        .review-title {
            font-size: 22px;
            font-weight: 700;
            text-align: center;
            width: 600px;
            margin-left: 60px;
            margin-bottom: 20px;
        }


        /*관심상품 부분*/
        .wishlist-container {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-left: 0;
            /* 리뷰 카드와 정렬 맞춤 */
            margin-bottom: 30px;
            align-items: center;
        }

        .wishlist-container .item-card {
            max-width: 600px;
        }


        .thumb-box {
            width: 100px;
            height: 100px;
            border-radius: 8px;
            border: 1px solid #ccc;
            background: #e9e9e9;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            color: #999;
        }


        .wishlist-title {
            font-size: 22px;
            margin-bottom: 20px;
            text-align: center;
            width: 600px;
            margin-left: 60px;
        }



        /*회원정보 부분*/
        .profile-card {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            padding: 10px 40px;
            max-width: 600px;
            margin: -20px auto 0 60px;
            background: none;
            box-shadow: none;
            border: none;
        }

        /* 회원정보 제목 */
        .profile-card h2 {
            font-size: 22px;
            font-weight: 700;
            text-align: center;
            width: 100%;
            margin-bottom: 25px;
        }

        /* 각 정보 항목 */
        .profile-card .info-item {
            margin-bottom: 18px;
            width: 100%;
        }

        /* 입력창/출력창 통일 */
        .profile-card input,
        .profile-card .readonly-field,
        .profile-card .info-display {
            width: 100%;
            padding: 10px 14px;
            border: 1px solid #ccc;
            border-radius: 8px;
            font-size: 15px;
            background-color: #fafafa;
        }

        /* 버튼 공통 스타일 */
        .profile-card button,
        .check-btn {
            padding: 10px 20px;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            background-color: #e0e0e0;
            /* 연한 회색 기본 */
            color: #333;
            transition: background-color 0.2s ease, color 0.2s ease;
        }

        /* hover 시 진한 회색 + 흰 글씨 */
        .profile-card button:hover,
        .check-btn:hover {
            background-color: #999;
            color: #fff;
        }

        /* 버튼 정렬 */
        .profile-card .button-group {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        /* 비밀번호 확인 행 */
        .password-check-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-top: 8px;
            /* 입력창 위쪽 여백 */
        }

        /* 비밀번호 확인 입력창 길이 조정 */
        .password-check-row input {
            width: calc(100% - 90px);
            /* ✅ 확인 버튼 폭만큼 계산해서 자동 맞춤 */
            padding: 10px 14px;
            border: 1px solid #ccc;
            border-radius: 8px;
            font-size: 15px;
            background-color: #fafafa;
        }

        /* 확인 버튼 스타일 */
        .check-btn {
            background-color: #e0e0e0;
            color: #333;
            border-radius: 8px;
            border: none;
            padding: 10px 16px;
            cursor: pointer;
            transition: background-color 0.2s ease, color 0.2s ease;
        }

        .check-btn:hover {
            background-color: #999;
            color: #fff;
        }
    </style>
</head>

<body>
    <!-- =============================
       공통 HEADER (팀원 버전)
  ============================== -->
    <header>
        <!-- 사이트 로고 -->
        <div class="logo">
            <a href="../index.html" class="logo-link">
                <div class="ewha">EWHA</div>
                <div class="market">MARKET</div>
            </a>
        </div>

        <!-- 네비게이션 메뉴 -->
        <nav>
            <div class="nav-item">
                <span><a href="../index.html" style="text-decoration: none; color: inherit;">Home</a></span>
            </div>

            <div class="nav-item">
                <span>Products</span>
                <div class="dropdown">
                    <a href="../list.html" class="dropdown-item">상품 목록</a>
                    <a href="../reg_items.html" class="dropdown-item">상품 등록 페이지</a>
                </div>
            </div>

            <div class="nav-item">
                <span>Reviews</span>
                <div class="dropdown">
                    <a href="../reg_reviews.html" class="dropdown-item">리뷰 작성</a>
                    <a href="../review.html" class="dropdown-item">모든 리뷰 보기</a>
                </div>
            </div>
        </nav>

        <!-- 오른쪽 상단 아이콘 -->
        <div class="header-icons">
            <a href="../wishlist.html">
                <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682
               a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318
               a4.5 4.5 0 00-6.364 0z"></path>
                </svg>
            </a>

            <a href="../mypage.html">
                <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0z
               M12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                </svg>
            </a>

            <button class="login-btn" onclick="location.href='../login.html'">로그인/회원가입</button>
        </div>
    </header>

    <!-- =============================
       MYPAGE MAIN
  ============================== -->
    <main class="mypage-container">
        <aside class="sidebar">
            <ul>
                <li data-section="profile">회원정보</li>
                <li data-section="wishlist">관심 상품</li>
                <li class="active" data-section="review">내 리뷰</li>
                <li class="disabled">구매 내역</li>
                <li class="disabled">판매 내역</li>
            </ul>
        </aside>

        <section class="content-area" id="content-area">
            <!-- ===========================
           서현님 파트: 회원정보 
           <div class="profile-card">...</div>
      ============================ -->
            <div class="profile-card" id="profile-section" style="display: none;">
                <h2 id="profile-title">회원정보</h2>

                <div class="profile-content">
                    <!-- 조회 모드 -->
                    <div id="view-mode">
                        <div class="info-item">
                            <label>아이디</label>
                            <div class="info-display" id="display-username">ewha2025</div>
                        </div>

                        <div class="info-item">
                            <label>비밀번호</label>
                            <div class="info-display" id="display-password">********</div>
                        </div>

                        <div class="info-item">
                            <label>이메일</label>
                            <div class="info-display" id="display-email">example@ewha.ac.kr</div>
                        </div>

                        <div class="info-item">
                            <label>휴대폰 번호</label>
                            <div class="info-display" id="display-phone">010-1234-5678</div>
                        </div>

                        <button onclick="toggleEditMode()" class="primary-btn">
                            회원정보 수정하기
                        </button>
                    </div>

                    <!-- 수정 모드 -->
                    <div id="edit-mode" style="display: none;">
                        <div class="info-item">
                            <label>아이디</label>
                            <div class="readonly-field">ewha2025</div>
                        </div>

                        <div class="info-item">
                            <label>새 비밀번호 입력</label>
                            <input type="password" id="edit-password-new" placeholder="새 비밀번호를 입력하세요" />
                        </div>

                        <div class="info-item">
                            <label>비밀번호 확인</label>
                            <div class="password-check-row">
                                <input type="password" id="edit-password-confirm" placeholder="비밀번호를 다시 입력하세요" />
                                <button onclick="checkPassword()" class="check-btn">확인</button>
                            </div>
                        </div>

                        <div class="info-item">
                            <label>이메일</label>
                            <input type="email" id="edit-email" value="example@ewha.ac.kr"
                                placeholder="example@ewha.kr" />
                        </div>

                        <div class="info-item">
                            <label>휴대폰 번호</label>
                            <input type="tel" id="edit-phone" value="010-1234-5678" placeholder="010-0000-0000" />
                        </div>

                        <div class="button-group">
                            <button onclick="saveChanges()" class="save-btn">저장하기</button>
                            <button onclick="cancelEdit()" class="cancel-btn">취소</button>
                        </div>
                    </div>
                </div>
            </div>


            <!-- ===========================
           은규님 파트: 관심 상품 
      ============================ -->
            <div class="wishlist-container" id="wishlist-section" style="display: none;">
                <h2 class="wishlist-title">관심 상품</h2>

                <!-- 카드 1 -->
                <div class="item-card">
                    <a href="detail.html" style="text-decoration:none; color:inherit;">
                        <div class="review-content">
                            <div class="thumb-box">NO IMG</div>
                            <div class="review-text">
                                <div class="name" style="font-weight:600;">Product 1</div>
                                <div class="price" style="color:#555;">₩29,000</div>
                            </div>
                        </div>
                    </a>
                </div>

                <!-- 카드 2 -->
                <div class="item-card">
                    <a href="detail.html" style="text-decoration:none; color:inherit;">
                        <div class="review-content">
                            <div class="thumb-box">NO IMG</div>
                            <div class="review-text">
                                <div class="name" style="font-weight:600;">Product 2</div>
                                <div class="price" style="color:#555;">₩18,000</div>
                            </div>
                        </div>
                    </a>
                </div>

                <!-- 카드 3 -->
                <div class="item-card">
                    <a href="detail.html" style="text-decoration:none; color:inherit;">
                        <div class="review-content">
                            <div class="thumb-box">NO IMG</div>
                            <div class="review-text">
                                <div class="name" style="font-weight:600;">Product 3</div>
                                <div class="price" style="color:#555;">₩45,000</div>
                            </div>
                        </div>
                    </a>
                </div>
            </div>

            <!-- ===========================
           내 리뷰 파트
      ============================ -->
            <h2 class="review-title">내 리뷰</h2>
            <div class="item-card">
                <div class="review-content">
                    <img src="../static/images/ecobag.png" alt="에코백" class="review-img">
                    <div class="review-text">
                        <p>⭐️⭐️⭐️⭐️☆</p>
                        <p>예뻐요!</p>
                        <small>상품명: 에코백</small>
                    </div>
                </div>
            </div>

            <div class="item-card">
                <div class="review-content">
                    <img src="../static/images/mug.png" alt="머그컵" class="review-img">
                    <div class="review-text">
                        <p>⭐️⭐️⭐️☆☆</p>
                        <p>상품은 괜찮은데 색감이 화면과 조금 달라요.</p>
                        <small>상품명: 머그컵</small>
                    </div>
                </div>
            </div>

            <div class="item-card">
                <div class="review-content">
                    <img src="../static/images/tumbler.png" alt="텀블러" class="review-img">
                    <div class="review-text">
                        <p>⭐️⭐️⭐️⭐️⭐️</p>
                        <p>디자인 예쁘고 보온력도 좋아요!</p>
                        <small>상품명: 스타벅스 텀블러</small>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- =============================
       공통 FOOTER (팀원 버전)
  ============================== -->
    <footer>
        <div class="footer-container">
            <div class="footer-top">
                <div class="footer-logo logo">
                    <a href="../index.html" class="logo-link">
                        <span class="ewha">EWHA</span><br><span class="market">MARKET</span>
                    </a>
                </div>

                <nav class="footer-nav">
                    <ul>
                        <li><a href="#main">Home</a></li>
                        <li><a href="../products.html">Products</a></li>
                        <li><a href="#review">Reviews</a></li>
                    </ul>
                </nav>
            </div>

            <div class="footer-bottom">
                <p>
                    © 2025 EWHA MARKET. Designed for educational purposes by Ewha students.
                    Contact: <a href="mailto:support@ewhamarket.kr"
                        style="color:#2e6b56; text-decoration:none;">support@ewhamarket.kr</a>
                </p>
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const menuItems = document.querySelectorAll(".sidebar li[data-section]");

            const sections = {
                profile: document.getElementById("profile-section"),
                wishlist: document.getElementById("wishlist-section"),
                reviewCards: document.querySelectorAll(".content-area > .item-card"), //  내 리뷰 카드만 선택
                reviewTitle: document.querySelector(".review-title")  //  내 리뷰 제목 추가
            };

            //  (1) 기본 상태: 회원정보만 보이게
            sections.profile.style.display = "block";
            sections.wishlist.style.display = "none";
            sections.reviewCards.forEach(card => (card.style.display = "none"));
            sections.reviewTitle.style.display = "none"; //  내 리뷰 제목도 기본은 숨김

            // “회원정보”만 active로 표시
            menuItems.forEach(li => li.classList.remove("active"));
            document.querySelector('.sidebar li[data-section="profile"]').classList.add("active");

            //  클릭 시 섹션 전환
            menuItems.forEach(item => {
                item.addEventListener("click", () => {
                    const section = item.dataset.section;

                    // 모든 active 초기화 후 클릭한 메뉴만 active로
                    menuItems.forEach(li => li.classList.remove("active"));
                    item.classList.add("active");

                    // 모든 섹션 숨기기
                    sections.profile.style.display = "none";
                    sections.wishlist.style.display = "none";
                    sections.reviewCards.forEach(card => (card.style.display = "none"));
                    sections.reviewTitle.style.display = "none"; //  제목도 함께 숨기기

                    // 클릭한 섹션만 보이기
                    if (section === "profile") {
                        sections.profile.style.display = "block";
                    } else if (section === "wishlist") {
                        sections.wishlist.style.display = "block"; //  관심상품 표시 문제 수정
                    } else if (section === "review") {
                        sections.reviewCards.forEach(card => (card.style.display = "block"));
                        sections.reviewTitle.style.display = "block"; //  내 리뷰일 때만 보이기
                    }
                });
            });
        });


        /* ===========================
           ✳ 회원정보 수정 모드 관련 기능
        =========================== */
        function toggleEditMode() {
            document.getElementById('view-mode').style.display = 'none';
            document.getElementById('edit-mode').style.display = 'block';
        }

        function cancelEdit() {
            document.getElementById('view-mode').style.display = 'block';
            document.getElementById('edit-mode').style.display = 'none';
        }

        function saveChanges() {
            // 입력값 가져오기
            const passwordNew = document.getElementById('edit-password-new').value;
            const email = document.getElementById('edit-email').value;
            const phone = document.getElementById('edit-phone').value;

            // 비밀번호 업데이트 시 * 처리
            if (passwordNew) {
                document.getElementById('display-password').textContent = '*'.repeat(passwordNew.length);
            }

            // 이메일, 전화번호 업데이트
            document.getElementById('display-email').textContent = email;
            document.getElementById('display-phone').textContent = phone;

            // 수정모드 → 조회모드로 전환
            cancelEdit();

            alert('회원정보가 수정되었습니다.');
        }

        // (선택) 비밀번호 확인 버튼 작동 예시
        function checkPassword() {
            const pw1 = document.getElementById('edit-password-new').value;
            const pw2 = document.getElementById('edit-password-confirm').value;

            if (!pw1 || !pw2) {
                alert('비밀번호를 모두 입력해주세요.');
                return;
            }

            if (pw1 === pw2) {
                alert('비밀번호가 일치합니다.');
            } else {
                alert('비밀번호가 일치하지 않습니다.');
            }
        }
    </script>


</body>

</html>
