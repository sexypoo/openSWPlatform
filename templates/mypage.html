{% extends "layout.html" %}
{% block title %}마이페이지 | EWHA MARKET{% endblock %}

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>마이페이지 | EWHA MARKET</title>

{% block content %}
<main class="mypage-container">

    <!-- ⭐ 사이드바 -->
    <aside class="sidebar">
        <ul>
            <li data-section="profile" class="active">회원정보</li>
            <li data-section="wishlist">관심 상품</li>
            <li data-section="review">내 리뷰</li>
            <li class="disabled">구매 내역</li>
            <li data-section="sell">판매 내역</li>
        </ul>
    </aside>

    <!-- ⭐ 오른쪽 콘텐츠 -->
    <section class="content-area">

        <!-- 회원정보 -->
        <div id="section-profile" class="section-wrapper">
            {% include 'mypage/_profile.html' %}
        </div>

        <!-- 관심상품 -->
        <div id="section-wishlist" class="section-wrapper" style="display:none;">
            {% include 'mypage/_wishlist.html' %}
        </div>

        <!-- 내 리뷰 -->
        <div id="section-review" class="section-wrapper" style="display:none;">
            {% include 'mypage/_myreview.html' %}
        </div>

        <!-- 판매내역 -->
        <div id="section-sell" class="section-wrapper" style="display:none;">
            {% include 'mypage/_sellList.html' %}
        </div>

    </section>

</main>
{% endblock %}

{% block script %}
<script>
document.addEventListener("DOMContentLoaded", () => {
    const menuItems = document.querySelectorAll(".sidebar li[data-section]");

    const sections = {
        profile: document.getElementById("section-profile"),
        wishlist: document.getElementById("section-wishlist"),
        review: document.getElementById("section-review"),
        sell: document.getElementById("section-sell")
    };

    // 사이드바 클릭 → 섹션 전환
    menuItems.forEach(item => {
        item.addEventListener("click", () => {
            const key = item.dataset.section;

            // active 스타일 변경
            menuItems.forEach(li => li.classList.remove("active"));
            item.classList.add("active");

            // 모든 섹션 숨기기
            Object.values(sections).forEach(sec => sec.style.display = "none");

            // 선택한 섹션만 표시
            sections[key].style.display = "block";
        });
    });
});
</script>
{% endblock %}
